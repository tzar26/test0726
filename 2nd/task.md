### **Задача 2 (на архитектуру)**

У продукта есть 3 сервиса:

- Сервис 1
- Сервис 2
- Сервис 3

Один из сервисов является центром аутентификации и хранит данные о пользователях. 
Данные пользователи должны быть синхронизированы между 3 сервисами. 
В случае, если пользователь меняет свои данные в сервисе 1, они должны так же изменится в остальных сервисах.

Какие способы синхронизации можно применить для решения этой задачи? Опиши плюсы и минусы предложенных решений.


=============================

Репликации могут быть реализованы в режимах:

1. синхронный - пока не будет подтверждено, что все ведомые получили копию данных, операция не считается успешной

Плюсы:

- копия данных на ведомом узле гарантированно актуальна и согласуется с ведущим узлом

Минусы:

- если ведомый узел не отвечает, то операцию может быть не удастся завершить

2. асинхронный - успешной считается операция при выполнении изменения, не дожидаясь ответа от ведомых асинхронных узлов

Плюсы:

- даёт возможность ведущего узла выполнить операцию, даже если какой-то из ведомых узлов не отвечает

Минусы:

- при сбое ведомого узла не гарантируется актуальность и согласованность данных

- при выходе из строя ведущего узла не гарантируется что изменения будут на всех или хоть каком-то узле, даже если пользователю пришло подтверждение успешности операции

3. полусинхронный - в схеме не менее трёх узлов: ведущий-синхронный ведомый-X асинхронных ведомых. В случае сли синхронный ведомый не отвечает (длительный сбой или выход из строя) то его роль подхватывает один из асинхронных.

Плюсы:

- собственно плюсы обоих вариантов, с небольшими замечаниями

Минусы:

- реализация мониторинга и механизма смены роли



Решение: согласно поставленной задаче идеально подходит синхронный режим репликации: новые данные либо есть везде либо нигде.
